<style>
  #content {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100%;
    width: 100%;
  }

  #lmr {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
    height: 100%;
    width: 100%;
  }

  #left {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100%;
    width: 25%;
  }

  #middle {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100%;
    width: 50%;
  }

  #right {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100%;
    width: 25%;
  }

  #exampleColors {
    display: flex;
    flex-direction: row;
    justify-content: center;
    border: 1px gray solid;
  }

  .exampleColorsPart {
    width: 20px;
    height: 20px;
    background-color: gray;
    margin: 5px;
    box-sizing: border-box;
    text-align: center;
  }

  #options {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    margin-top: 2px;
    box-sizing: border-box;
  }

  .optIn {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    margin-left: 3px;
    margin-right: 3px;
    box-sizing: border-box;
  }

  #patternGiven {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    border: 1px gray solid;
    margin-top: 25px;
  }

  .patternGivenPart {
    width: 30px;
    height: 30px;
    margin: 0px;
    background-color: gray;
    box-sizing: border-box;
    display: inline-block;
    text-align: center;
    line-height: 30px;
    font-size: 30px;
    color: white;
    font-weight: bold;
    font-family: arial;
  }

  .gray {
    background-color: black;
    background-color: gray;
  }

  .pgpInput {
    display: flex;
    flex-direction: row;
    justify-content: right;
    margin-top: 5px;
    width: calc(100% + 0px);
  }

  .pgpInput>input {
    width: 50px;
    margin-left: 10px;
  }

</style>
<div id="content">
  <h1>
    25HoursaDay: Patterns
  </h1>
  <div id="lmr">


    <div id="left">
      <label class="pgpInput" for="pgHeight">Height:<input id="pgHeight" name="pgHeight" onChange="inputChange()" value="30"></label>
      <label class="pgpInput" for="pgWidth">Width:<input id="pgWidth" name="pgWidth" onChange="inputChange()" value="30"></label>
      <label class="pgpInput" for="pgMargin">Margin:<input id="pgMargin" name="pgMargin" onChange="inputChange()" value="0"></label>
      <label class="pgpInput" for="pgTextColor">Text Color:<input id="pgTextColor" name="pgTextColor" onChange="inputChange()" value="white"></label>
      <label class="pgpInput" for="pgBorder">Border: <input id="pgBorder" name="pgBorder" onChange="inputChange()" value="none"></label>
    </div>
    <div id="middle">

      <div id="exampleColors"></div>
      <div id="options">
        <label class="optIn" for="letters">Letters<input onchange="lettersToggle()" type="checkbox" name="letters"></label>
        <label class="optIn" for="numbers">Numbers<input onchange="numbersToggle()" type="checkbox" name="numbers"></label>
        <label class="optIn" for="colors">Colors<input onchange="colorsToggle()" type="checkbox" name="colors" checked="true"></label>
      </div>
      <div id="patternGiven">
      </div>
      <a id="cap" href="/create.html">
        Create your own pattern
      </a>
    </div>
    <div id="right">

    </div>
  </div>
</div>
<script>
  const abcSoup = [
    "",
    "A",
    "B",
    "C",
    "D",
    "E",
    "F",
    "G",
    "H",
    "I",
    "J",
    "K",
    "L",
    "M",
    "N",
    "O",
    "P",
    "Q",
    "R",
    "S",
    "T",
    "U",
    "V",
    "W",
    "X",
    "Y",
    "Z"
  ];
  const patternGiven = [
    [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
    [2, 3, 4, 5, 6, 7, 8, 9, 10, 1],
    [3, 4, 5, 6, 7, 8, 9, 10, 1, 2],
    [4, 5, 6, 7, 8, 9, 10, 1, 2, 3],
    [5, 6, 7, 8, 9, 10, 1, 2, 3, 4],
    [6, 7, 8, 9, 10, 1, 2, 3, 4, 5],
    [7, 8, 9, 10, 1, 2, 3, 4, 5, 6],
    [8, 9, 10, 1, 2, 3, 4, 5, 6, 7],
    [9, 10, 1, 2, 3, 4, 5, 6, 7, 8],
    [10, 1, 2, 3, 4, 5, 6, 7, 8, 9],
  ];
  const colorOpts = [
    "deeppink", "coral", "navajowhite", "yellow", "aquamarine", "cyan", "dodgerblue", "magenta", "pink", "mistyrose"
  ];
  var ecpSize = 30; // in px, includes margin and ect. so 30 is 20px + 5px * 2 for margin
  function inputChange() {
    for (var i = 0; i < document.getElementsByClassName("pgpInput").length; i++) {
      console.log(i);
      var x = document.getElementsByClassName("pgpInput")[i].children[0].value;
      console.log(x);
      var pgHeight = (i == 0) ? x : pgHeight;
      var pgWidth = (i == 1) ? x : pgWidth;
      var pgMargin = (i == 2) ? x : pgMargin;
      var pgTextColor = (i == 3) ? x : pgTextColor;
      var pgBorder = (i == 4) ? x : pgBorder;
    }
    var w = document.getElementsByClassName("patternGivenPart");
    for (var i = 0; i < w.length; i++) {
      w.style.height = pgHeight + "px";
      w.style.width = pgWidth + "px";
      w.style.margin = pgMargin + "px";
      w.style.color = pgTextColor;
      w.style.border = pgBorder;
    }
    var pgpTrueSize = pgHeight; // in px, does not include margin ect.

    document.getElementById("patternGiven").style.width = (pgWidth * patternGiven[0].length) + "px";
    document.getElementById("patternGiven").style.height = (pgHeight * patternGiven.length) + "px";
  }
  inputChange();


  for (var x = 0; x < colorOpts.length; x++) {
    var exampleColorsPart = document.createElement("span");
    exampleColorsPart.className = "exampleColorsPart";
    exampleColorsPart.style.backgroundColor = colorOpts[x];
    document.getElementById("exampleColors").append(exampleColorsPart);
  }
  document.getElementById("exampleColors").style.width = (ecpSize * colorOpts.length);
  document.getElementById("exampleColors").style.height = (ecpSize + "px");



  // var difficulty = 1;
  // 1 = easy, 2 = medium, 3 = hard

  for (var x = 0; x < patternGiven.length; x++) {
    for (var i = 0; i < patternGiven[x].length; i++) {
      var patternGivenPart = document.createElement("span");
      patternGivenPart.className = "patternGivenPart";
      patternGivenPart.id = ("r" + x + "c" + i + "");
      patternGivenPart.style.backgroundColor = colorOpts[patternGiven[x][i] - 1];
      patternGivenPart.setAttribute("numval", patternGiven[x][i]);
      document.getElementById("patternGiven").append(patternGivenPart);
    }
  }

  function adjustFont(funcVar) {
    var x = document.getElementsByClassName("patternGivenPart");
    for (var i = 0; i < x.length; i++) {
      if (funcVar == "letters") {
        // console.log(x[i].getAttribute("letval"));
        var tempVar1 = x[i].getAttribute("letval").toString().split("").length;
      } else {
        var tempVar1 = x[i].getAttribute("numval").toString().split("").length;
      }
      x[i].style.fontSize = "" + ((pgpTrueSize / (tempVar1 + 1)) * 2) + "px";
    }
  }

  function lettersToggle() {
    var x = document.getElementsByClassName("patternGivenPart");
    for (var i = 0; i < x.length; i++) {

      var procArray = [x[i].getAttribute("numval") * 1];
      for (var uP = 0; uP < procArray.length; uP++) {
        //change to push
        const qwer = [];
        qwer.push(Math.floor(procArray[procArray.length - uP - 1] / 26));
        qwer.push(procArray[procArray.length - uP - 1] % 26);

        var qwert = qwer[0];
        while (qwert > 26) {
          qwer[0] = qwert % 26;
          qwer.unshift(Math.floor(qwert / 26));
          var qwert = qwer[0];
        }

        if (qwer[qwer.length - uP - 1] == 0) {
          qwer[qwer.length - uP - 1] = 26;
          qwer[qwer.length - uP - 2]--;
        }

        //console.log(qwer);
        x[i].setAttribute("letval", "");
        for (let number in qwer) {
          //console.log(abcSoup[qwer[number]]);
          x[i].setAttribute("letval", x[i].getAttribute("letval") + abcSoup[qwer[number]]);
        }
        //console.log(x[i].getAttribute("letval"));

        if (document.getElementsByName("letters")[0].checked) {
          document.getElementsByName("numbers")[0].checked = false;
          x[i].innerText = x[i].getAttribute("letval");
        } else {
          x[i].innerText = "";
        }
      }
    }
    adjustFont("letters");
  }

  function numbersToggle() {
    adjustFont("numbers");
    var x = document.getElementsByClassName("patternGivenPart");
    for (var i = 0; i < x.length; i++) {
      if (document.getElementsByName("numbers")[0].checked) {
        document.getElementsByName("letters")[0].checked = false;
        x[i].innerText = x[i].getAttribute("numval");
      } else {
        x[i].innerText = "";
      }
    }
  }

  function colorsToggle() {
    var x = document.getElementsByClassName("patternGivenPart");
    for (var i = 0; i < x.length; i++) {
      if (document.getElementsByName("colors")[0].checked) {
        x[i].style.backgroundColor = colorOpts[patternGiven.toString().split(",")[i] - 1];
      } else {
        x[i].style.backgroundColor = null;
      }
    }
  }
  /* IMPORTANT 
  Eventually make 1 function for all onChange() events from the options */

</script>
